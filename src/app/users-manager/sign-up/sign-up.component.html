<h1 class="bibliophile__heading">Sign Up</h1>

<form  [formGroup]="userForm"
(ngSubmit)="addUsers()" class="signup__form">
    
    <div class="form-group">
      <label for="fname">First Name</label>
      <input type="text" class="form-control" id="fname" name="fname"
       formControlName="fname"  
       [ngClass]="{ 'is-invalid': submitted && f.fname.errors }" > 
      <span class="text-danger"
        *ngIf="(f.fname.touched || submitted) && f.fname.errors?.required">
        First Name is required
      </span>      
    </div>
    <div class="form-group">
      <label for="lname">Last Name</label>
      <input type="text" class="form-control" id="lname" formControlName="lname" name="lname" 
      required>
      <span class="text-danger"
        *ngIf="(f.lname.touched || submitted) && f.lname.errors?.required">
        Last Name is required
      </span>
    </div>
    <div class="form-group">
      <label for="user">Username</label>
      <input type="text" class="form-control" id="user" formControlName="user" name="user" 
      required >
      <span class="text-danger"
        *ngIf="(f.user.touched || submitted) && f.user.errors?.required">
        Username is required
      </span>
      <span class="text-danger"
          *ngIf="f.user.touched && f.user.errors?.userNameNotAvailable">
          User Name is not available
      </span>      
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" formControlName="password" name="password" 
      required >
      <span class="text-danger"
        *ngIf="(f.password.touched || submitted) && f.password.errors?.required">
        Password is required
      </span>
      <span class="text-danger"
          *ngIf="f.password.touched && f.password.errors?.invalidPassword">
          Password should have minimum 8 characters, at least 1 uppercase letter, 1 lowercase
          letter and 1 number
      </span>      
    </div>
    <div class="form-group">
      <label for="cpassword">Confirm Password</label>
      <input type="password" class="form-control" id="cpassword" formControlName="cpassword" 
      name="cpassword"  required> 
      <span class="text-danger"
        *ngIf="(f.cpassword.touched || submitted) && f.cpassword.errors?.required">
        Confirm Password is required
      </span> 
      <span class="text-danger"
        *ngIf="f.cpassword.touched && f.cpassword.errors?.passwordMismatch">
        Passwords doesnot match
    </span>      
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>

  </form>